#:kivy 1.9.2

#Top level element is a FloatLayout, for popup items.
<ElementsWindow>:

    # Main structure.
    BoxLayout:
        id: mainbox
        orientation: 'vertical'
        # Top toolbar.
        BoxLayout:
            orientation: 'horizontal'
            # Height of the toolbar should be 6-7% of the parent.
            size_hint_min_y: self.parent.width * 0.06
            size_hint_max_y: self.parent.width * 0.07
            # Sub-toolbar for playback controls.
            BoxLayout:
                orientation: 'horizontal'
                # Playback controls should take up only 3% of the toolbar width.
                size_hint_min_x: self.parent.width * 0.3
                size_hint_max_x: self.parent.width * 0.3
                # "Previous" button.
                UIButton:
                    id: btnPrev
                    info: "Previous"
                    on_press: root.playback_prev()
                    Image:
                        source: "icons/ui/elements_prev.png"
                        # Blue, 75% lightness
                        color: ((125/255),(125/255),(255/255),(255/255))
                        width: self.parent.width
                        height: self.parent.height * 0.8
                        x: self.parent.x
                        y: self.parent.y + (self.parent.height * 0.1)
                # "Play/Pause" button.
                UIButton:
                    id: btnPlayback
                    info: "Play/Pause"
                    on_press: root.playback_toggle()
                    Image:
                        id: img_btnPlayback
                        source: "icons/ui/elements_play.png"
                        # Green, 75% lightness
                        color: ((125/255),(255/255),(125/255),(255/255))
                        width: self.parent.width
                        height: self.parent.height * 0.8
                        x: self.parent.x
                        y: self.parent.y + (self.parent.height * 0.1)
                # "Stop" button.
                UIButton:
                    id: btnStop
                    info: "Stop"
                    on_press: root.playback_stop()
                    Image:
                        source: "icons/ui/elements_stop.png"
                        # Red, 75% lightness
                        color: ((255/255),(100/255),(75/255),(255/255))
                        width: self.parent.width
                        height: self.parent.height * 0.8
                        x: self.parent.x
                        y: self.parent.y + (self.parent.height * 0.1)
                # "Next" button.
                UIButton:
                    id: btnNext
                    info: "Next"
                    on_press: root.playback_next()
                    Image:
                        source: "icons/ui/elements_next.png"
                        # Blue, 75% lightness
                        color: ((125/255),(125/255),(255/255),(255/255))
                        width: self.parent.width
                        height: self.parent.height * 0.8
                        x: self.parent.x
                        y: self.parent.y + (self.parent.height * 0.1)
            # "Now Playing" sub-toolbar.
            BoxLayout:
                orientation: 'horizontal'
                Label:
                    size_hint_min_x: self.parent.width * 0.15
                    size_hint_max_x: self.parent.width * 0.15
                    AsyncImage:
                        id: img_NowPlaying_Cover
                        source: "icons/ui/elements_nocover.png"
                        width: self.parent.width
                        height: self.parent.height * 0.8
                        x: self.parent.x
                        y: self.parent.y + (self.parent.height * 0.1)
                BoxLayout:
                    orientation: 'vertical'
                    Label:
                        id: lbl_NowPlaying_TrackNumberTitle
                        shorten: True
                        shorten_from: 'right'
                        strip: False
                        text_size: (self.parent.width, None)
                        halign: 'left'
                        text: 'Elements Music Player'
                    Label:
                        id: lbl_NowPlaying_TrackArtist
                        shorten: True
                        shorten_from: 'right'
                        strip: False
                        text_size: (self.parent.width, None)
                        halign: 'left'
                        text: '(Nothing Playing...)'
                    Label:
                        id: lbl_NowPlaying_TrackAlbumYear
                        shorten: True
                        shorten_from: 'right'
                        strip: False
                        text_size: (self.parent.width, None)
                        halign: 'left'
                        text: ''
            # "Actions" sub-toolbar.
            BoxLayout:
                orientation: 'horizontal'
                size_hint_min_x: self.parent.width * 0.2
                size_hint_max_x: self.parent.width * 0.2
                # "Tags" button.
                UIButton:
                    id: btnTags
                    info: "Tags"
                    #on_press: root.menu_toggle_tag_bubble()
                    Image:
                        # Orange, 75% lightness
                        source: "icons/ui/elements_tags.png"
                        color: ((255/255),(190/255),(128/255),(255/255))
                        width: self.parent.width
                        height: self.parent.height * 0.8
                        x: self.parent.x
                        y: self.parent.y + (self.parent.height * 0.1)
                # "Mood" button.
                UIButton:
                    id: btnMood
                    info: "Mood"
                    Image:
                        source: "icons/ui/elements_cloud.png"
                        # Cyan, 75% lightness
                        color: ((128/255),(255/255),(255/255),(255/255))
                        width: self.parent.width
                        height: self.parent.height * 0.8
                        x: self.parent.x
                        y: self.parent.y + (self.parent.height * 0.1)
                # "Rating" button.
                UIButton:
                    id: btnStar
                    info: "Rating"
                    Image:
                        source: "icons/ui/elements_star.png"
                        # Yellow, 75% lightness
                        color: ((255/255),(255/255),(125/255),(255/255))
                        width: self.parent.width
                        height: self.parent.height * 0.8
                        x: self.parent.x
                        y: self.parent.y + (self.parent.height * 0.1)
        BoxLayout:
            orientation: 'horizontal'

<Tooltip>:
    size_hint: None, None
    size: self.texture_size[0]+5, self.texture_size[1]+5
    halign: 'left'
    canvas.before:
        Color:
            rgb: 0, 0, 0
        Rectangle:
            size: self.size
            pos: self.pos

<BubbleTags>:
    show_arrow: True
    arrow_pos: "top_right"
    size: (160, 120)
    BubbleButton:
        text: "One"
    BubbleButton:
        text: "Two"
    BubbleButton:
        text: "Three"
